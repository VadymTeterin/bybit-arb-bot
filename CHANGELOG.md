# Changelog

## Phase #1 — Початкове налаштування
### 1.1 Ініціалізація проєкту
- Створено базову структуру директорій `src/`, `tests/`, `data/`.
- Додано `.gitignore`, `requirements.txt`, базові конфігураційні файли.

### 1.2 Налаштування логування
- Додано модуль `src/infra/logging.py` для єдиного формату логів з рівнями DEBUG, INFO, SUCCESS.

---
## Phase #2 — Підключення біржі Bybit
### 2.1 REST API
- Реалізовано клієнт `src/exchanges/bybit/rest.py` для отримання спотових та ф'ючерсних котирувань.
- Додано функції отримання обсягів, маркувальних цін.

### 2.2 WebSocket API
- Реалізовано підключення до публічних каналів Bybit для спотових та лінійних ф'ючерсів.
- Додано оновлення цін у реальному часі.

---
## Phase #3 — Логіка обчислення Basis
### 3.1 Формули та відбір
- Додано функцію `_basis_rows` для відбору пар з певним порогом відсотків та обсягів.
- Розрахунок Basis як `(futures - spot) / spot * 100`.

### 3.2 Фільтрація результатів
- Мінімальний обсяг та поріг % задаються аргументами CLI.

---
## Phase #4 — Інтеграція Telegram
### 4.1 Форматування повідомлень
- Додано `src/telegram/formatters.py` з функцією `format_basis_top`.

### 4.2 Відправка повідомлень
- Додано `send_telegram_message` у `src/main.py`.

### 4.3 Команда basis:alert
- Додано CLI команду для запуску Basis-скану та надсилання алерту.

### 4.4 Тести форматерів
- Додано `tests/test_formatters.py`.

### 4.5 Інтеграційні тести
- Додано `tests/test_alerts_integration.py`.

---
## Phase #5 — Funding та WS-алерти
### 5.1 Funding API
- Додано функції отримання попереднього та наступного Funding.

### 5.2 Відображення funding у CLI
- Оновлено `alerts:preview` для показу Funding (prev) та Next funding.

### 5.3 WS-алерти з Funding
- Додано кешування TTL, запобігання частому дублюванню алертів.
- Додано підказки cooldown у логах.

