# ==============================================================================
# bybit-arb-bot — .env.example
# Purpose: Configuration template (checked into VCS). Do NOT put secrets here.
# Copy to ".env" and fill in required values locally or provide them via CI/CD.
#
# Loader: src/infra/config.py (pydantic-settings, nested delimiter="__")
# Priority order: environment vars > .env file defaults in this template
# Booleans: true/false | 1/0 | yes/no | on/off (case-insensitive)
# Lists (CSV): "BTCUSDT,ETHUSDT" → parsed into ["BTCUSDT", "ETHUSDT"]
# ==============================================================================

# ------------------------------------------------------------------------------
# [0] RUNTIME / ENVIRONMENT
# ------------------------------------------------------------------------------
RUNTIME__ENV=dev                       # dev | prod
RUNTIME__ENABLE_ALERTS=true            # send Telegram alerts at runtime
RUNTIME__DB_PATH=./data/signals.db     # SQLite path (relative or absolute)
RUNTIME__TOP_N_REPORT=10               # /report or summaries top-N size

# ------------------------------------------------------------------------------
# [1] TELEGRAM (REQUIRED for alerts/reporting)
# ------------------------------------------------------------------------------
TELEGRAM__TOKEN=                       # e.g. 123456:ABC-DEF...
TELEGRAM__CHAT_ID=                     # e.g. -1001234567890 (channel) or 123456789 (user)

# ------------------------------------------------------------------------------
# [2] BYBIT (REQUIRED for API access; WS endpoints optional)
# ------------------------------------------------------------------------------
BYBIT__API_KEY=
BYBIT__API_SECRET=

# Optional: Public WS endpoints & topics (leave commented to use defaults)
# BYBIT__WS_PUBLIC_URL_LINEAR=wss://stream.bybit.com/v5/public/linear
# BYBIT__WS_PUBLIC_URL_SPOT=wss://stream.bybit.com/v5/public/spot
# BYBIT__WS_SUB_TOPICS_LINEAR=tickers.BTCUSDT,tickers.ETHUSDT
# BYBIT__WS_SUB_TOPICS_SPOT=tickers.BTCUSDT,tickers.ETHUSDT

# ------------------------------------------------------------------------------
# [3] ALERTS (validated)
# ------------------------------------------------------------------------------
ALERTS__THRESHOLD_PCT=1.0              # 0..100 (%); trigger basis alerts above this value
ALERTS__COOLDOWN_SEC=300               # 0..86400; per-symbol throttle

# ------------------------------------------------------------------------------
# [4] LIQUIDITY FILTERS (validated)
# ------------------------------------------------------------------------------
LIQUIDITY__MIN_VOL_24H_USD=10000000    # minimum 24h volume in USD
LIQUIDITY__MIN_PRICE=0.001             # exclude ultra-low-priced assets

# ------------------------------------------------------------------------------
# [5] SELECTOR / SYMBOL LISTS (optional; CSV)
# ------------------------------------------------------------------------------
# ALLOW_SYMBOLS=BTCUSDT,ETHUSDT        # only these symbols (whitelist)
# DENY_SYMBOLS=USDCUSDT,XXXUSDT        # exclude these symbols (blacklist)

# ------------------------------------------------------------------------------
# [6] WS RUNTIME TUNABLES (optional; top-level overrides)
# ------------------------------------------------------------------------------
# WS_ENABLED=true
# WS_PUBLIC_URL_LINEAR=                 # override nested if needed
# WS_PUBLIC_URL_SPOT=
# WS_SUB_TOPICS_LINEAR=
# WS_SUB_TOPICS_SPOT=
# WS_RECONNECT_MAX_SEC=30               # reconnect backoff cap (seconds)
# RT_META_REFRESH_SEC=30                # how often to refresh 24h volumes, etc.
# RT_LOG_PASSES=1                       # log every N processing passes

# ------------------------------------------------------------------------------
# [7] LEGACY FLAT KEYS (BACK-COMPAT) — prefer nested keys above
# The loader still recognizes these; use ONLY if migration must be gradual.
# ------------------------------------------------------------------------------
# TELEGRAM_TOKEN=            # == TELEGRAM_BOT_TOKEN (alias)
# TELEGRAM_BOT_TOKEN=
# TELEGRAM_CHAT_ID=          # == TG_CHAT_ID == TELEGRAM_ALERT_CHAT_ID
# TG_CHAT_ID=
# TELEGRAM_ALERT_CHAT_ID=
#
# BYBIT_API_KEY=
# BYBIT_API_SECRET=
#
# ALERT_THRESHOLD_PCT=       # maps to ALERTS__THRESHOLD_PCT
# ALERT_COOLDOWN_SEC=        # maps to ALERTS__COOLDOWN_SEC
#
# MIN_VOL_24H_USD=           # maps to LIQUIDITY__MIN_VOL_24H_USD
# MIN_PRICE=                 # maps to LIQUIDITY__MIN_PRICE
#
# ENV=                       # maps to RUNTIME__ENV
# DB_PATH=                   # maps to RUNTIME__DB_PATH
# TOP_N_REPORT=              # maps to RUNTIME__TOP_N_REPORT
# ENABLE_ALERTS=             # maps to RUNTIME__ENABLE_ALERTS

# ------------------------------------------------------------------------------
# [8] CI/CD NOTES (recommended secret names)
# ------------------------------------------------------------------------------
# GitHub Secrets (example):
#   TELEGRAM_TOKEN, TELEGRAM_CHAT_ID, BYBIT_API_KEY, BYBIT_API_SECRET
# Reusable workflows can `secrets: inherit`; the app NEVER prints secret values.
# ------------------------------------------------------------------------------

# Liquidity filters (Phase 6.3.3)
LIQUIDITY__MIN_VOL24_USD=10000000
LIQUIDITY__MIN_PRICE_USD=0.01

# Liquidity filter toggle (0=off, 1=on)
LIQUIDITY__ENABLED=0
